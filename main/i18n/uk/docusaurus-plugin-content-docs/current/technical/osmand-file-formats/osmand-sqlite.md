---
source-hash: 777e1b6ae34dee89414b4c08be679e9d019b5045cbf293b733879b6dfb3cd8db
sidebar_position: 9
---

# Формат SQLite тайлів - .sqlite {#tiles-sqlite-format---sqlite}

Формат SQLite, що використовується в OsmAnd, базується на форматі "BigPlanet" SQLite, який підтримується MOBAC. В OsmAnd ми додаємо низку таблиць, що розширюють формат:

|Таблиця|Стовпець|Специфікація та призначення|
|:----|:-----|:---------------|
|"info"|"url"|Рядок. Шаблон URL для завантаження тайлів із масштабом ≣ `{z}` ≣ `{0}`, `{x}` ≣ `{1}`, `{y}` ≣ `{2}`, назва сервера ≣ `{rnd}`|
||"randoms"|Рядок. Назви дзеркал сервера. Розділені комами. Одне з цих значень випадковим чином замінить заповнювач `{rdn}` у полі "url".|
||"referer"|Рядок. HTTP Referer. Використовується для завантаження.|
||"rule"|Рядок. Підтримуваний шаблон: 1 (те саме, що й порожній), wms_tile, yandex_traffic. Додає специфічні алгоритми завантаження тайлів. wms_tile використовує проксі-сервер, такий як whoots.mapwarper.net, для роботи з джерелами WMS.|
||"useragent"|Рядок. HTTP User Agent. Використовується для завантаження.|
||"minzoom"|Ціле число. Мінімальний рівень масштабування. Відповідне ціле число. (Також інвертоване у випадку BigPlanet).|
||"maxzoom"|Ціле число. Максимальний рівень масштабування. Відповідне ціле число. (Також інвертоване у випадку BigPlanet).|
||"ellipsoid"|Ціле число 0 або 1. 1 для еліптичного Меркатора (тайли Яндекса). 0 для звичайного сферичного веб-Меркатора (OSM, Google Maps).|
||"inverted\_y"|Ціле число 0 або 1. 1 для інвертованого номера тайла Y (тайли Nakarte.me).|
||"timecolumn"|Рядок "yes" або "no". Таблиця тайлів зі стовпцем "time" вказує, коли кожен тайл був отриманий.|
||"expireminutes"|Ціле число. Вказує, чи повинні тайли закінчуватися після заданої кількості хвилин. Вони все ще будуть відображатися, але також будуть повторно завантажені.|
||"tilenumbering"|Рядок "" або "BigPlanet". Якщо "BigPlanet", масштаб буде інвертований і розрахований як z = 17 - zoom.|
||"tilesize"| Ціле число. Порожнє або 256 або 512, необов'язково, використовується для опису розміру тайла.|
|"tiles"|"x", "y", "z"|Ціле число. Вказує координати тайла Меркатора. Зауважте, що масштаб може бути інвертований для випадку BigPlanet.|
||"image"|Blob байтів зображення.|
||"time"|Ціле число. Часова мітка, коли зображення було завантажено.|

Цей формат також використовується файлами Hillshade та Slope, що розповсюджуються застосунком OsmAnd.

Клас, що підтримує це, — SQLiteTileSource за адресою або поблизу [https://github.com/osmandapp/OsmAnd/blob/master/OsmAnd/src/net/osmand/plus/resources/SQLiteTileSource.java#L36](https://github.com/osmandapp/OsmAnd/blob/master/OsmAnd/src/net/osmand/plus/resources/SQLiteTileSource.java#L36).