---
source-hash: aa3fd23b95c957def9ede8e26af7d7b5f4e4f85fb050e7a8c1cfc60a5f8eeb64
sidebar_position: 4
---

# مطالبات صوت التنقل {#navigation-voice-prompts}

## 1. بعض الأساسيات {#1-some-basics}

* يدعم OsmAnd كلاً من مطالبات الصوت المركب (TTS) والأصوات المسجلة مسبقًا.
* يُفضل استخدام صوت TTS، فهو أكثر مرونة ويمكنه، على سبيل المثال، نطق أسماء الأماكن أو الشوارع.
* يُوصى بالأصوات المسجلة مسبقًا فقط كخيار احتياطي إذا كان جهازك غير قادر على دعم TTS على الإطلاق باللغة المختارة.
* لاستخدام TTS، يجب أن يكون جهازك مثبتًا عليه محرك TTS يدعم اللغة التي ترغب في سماعها. تأتي معظم الأجهزة مع محرك أو اثنين مثبتين مسبقًا. فقط للغات الأقل شيوعًا قد تضطر إلى العثور على محرك TTS تابع لجهة خارجية وتثبيته.
* يتم تحديد الأحداث التي يتم تقديم مطالبات صوتية لها وتوقيتها بواسطة رمز موجه الصوت في OsmAnd.
* ولكن المفردات وبناء الجملة لأي لغة يتم تحديدها في ملف تكوين _xx-yy_tts.js_، حيث xx هو رمز اللغة ISO 639-1 و yy هو محدد إقليمي أو ما شابه ذلك اختياري. فقط للأصوات المسجلة، يلزم وجود مجلد فرعي إضافي _voice_ مع جميع التعبيرات المسجلة الضرورية كملفات _.ogg_.
* اتفاقية المجلد/الملف على الجهاز هي `voice/xx[-yy]-tts/xx[-yy]_tts.js`.

يجب أن تحتوي ملفات التكوين _tts.js_ على رأس كما يلي، مع تتبع الميزات المحددة التي تم تنفيذها والتحقق منها للملف المعني:

```
// الميزات المنفذة (X) أو المفقودة ( )، (N/A) إذا لم تكن مطلوبة في هذه اللغة:
//
// (X) مطالبات التنقل الأساسية: تم (إعادة) حساب المسار (مع دعم المسافة والوقت)، المنعطفات، الدوارات، الانعطافات، المضي قدمًا/المتابعة، الوصول
// (X) الإعلان عن أسماء النقاط القريبة (الوجهة / المتوسطة / نقطة طريق GPX / المفضلة / POI)
// (X) مطالبات الانتباه: كاميرا_السرعة؛ حد_السرعة؛ مراقبة_الحدود؛ سكة_حديد؛ تهدئة_المرور؛ كابينة_رسوم؛ توقف؛ مشاة؛ أقصى؛ نفق
// (X) مطالبات أخرى: فقدان GPS، خارج المسار، العودة إلى المسار
// (X) دعم اسم الشارع وحروف الجر (على / في / إلى) ووجهة الشارع (نحو)
// (X) دعم وحدة المسافة (أمتار / أقدام / ياردة)
// (N/A) قواعد نحوية خاصة: (يرجى تحديد أي منها)
// (X) دعم الإعلان عن مخارج الطرق السريعة
```

## 2. لغات ومتغيرات الصوت {#2-voice-languages-and-variants}

* يتم تثبيت بعض حزم مطالبات الصوت للغات الشائعة مسبقًا في OsmAnd، بينما تتطلب الأخرى تنزيلًا لمرة واحدة. (يرجى ملاحظة أن تلك المثبتة مسبقًا تظهر أيضًا كما لو كانت تنزيلًا.)
* بالنسبة لبعض اللغات، نقدم متغيرات إقليمية مختلفة. يعتمد سماع النطق الإقليمي المقابل أيضًا على قدرات جهازك.
* بالنسبة لبعض الأصوات، نقدم أيضًا متغيرات إضافية مع مطالبات أقصر ('غير رسمية') أو بعض المطالبات الصامتة لتقليل الثرثرة.

## 3. اختبار مطالبات الصوت {#3-testing-of-voice-prompts}

يمكنك تمكين مكون OsmAnd الإضافي للتطوير مؤقتًا، ثم الانتقال إلى إعداداته واستخدام الزر `اختبار مطالبات الصوت`. يوفر هذا الزر عدة أمثلة للإعلانات لكل نوع من مطالبات OsmAnd، باستخدام مجموعة واسعة من الأرقام لاختبار تنسيق الوقت/المسافة والنطق. يشير تسمية الزر إلى المحتوى الأساسي للمطالبة، ويتم تحديد الصياغة الدقيقة في ملف tts.js الذي تختبره.
يوجد أيضًا زر اختبار يعرض إعدادات جهازك وقدرات اللغة.

أثناء التنقل، يمكن دائمًا تشغيل المطالبة الصوتية الحالية بالنقر على أداة سهم الانعطاف.

## 4. إنشاء لغة/متغير صوت TTS جديد {#4-creating-a-new-tts-voice-languagevariant}

بعض التلميحات:

- يوفر OsmAnd فقط الصياغة، ترتيب الكلمات، القواعد النحوية من حيث التصريفات، الحالات، المفرد/الجمع، إلخ، بينما يتم تنفيذ النطق بواسطة محرك TTS الذي تستخدمه على الجهاز (هناك محركات مدمجة ومحركات تابعة لجهات خارجية)
- يتم ذلك في ملف تعريف صوت واحد لكل لغة. على github، توجد الملفات <a href="https://github.com/osmandapp/OsmAnd-resources/tree/master/voice">هنا</a>، ويرجى الاطلاع أعلاه على اتفاقيات المجلد/الملف على جهازك محليًا.
- الملف الآن بتنسيق js (تم ترحيله من PROLOG السابق لجعله أكثر شيوعًا).
- لإنشاء ملف تكوين جديد، يرجى البدء بالاستنساخ من _en\_tts.js_، أي استخدمه كقالب.
- قد يكون من المفيد بعد ذلك النظر إلى ملفات التكوين الموجودة للغات الأكثر تعقيدًا نحويًا (مثل الألمانية، التشيكية، أو السلوفاكية) للبحث عن حلول موجودة للقواعد النحوية الخاصة، ترتيب الكلمات، تشكيل الأرقام، إلخ. انظر بشكل خاص إلى اللغات المشابهة للغتك.
- يمكنك اختبار ملف tts الخاص بك (أو تحسيناتك على الملفات الموجودة) بنفسك محليًا، قبل طلب سحب، فقط ضعه على جهازك مع اتفاقية الملف/المجلد الصحيحة.