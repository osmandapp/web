---
source-hash: ce62f6fd113ba54378f5dc39e541fa7e711306a641c814ab9db60c61a6c63dd1
sidebar_position: 4
---
import Translate from '@site/src/components/Translate.js';


# Тригери голосових підказок навігації {#navigation-voice-prompt-triggering}

                               
**(Складено Hardy 2013, перероблено 2023-08)**
## Принцип та пов'язані налаштування {#principle-and-related-settings}
* Підказки запускаються на основі порогового значення **відстані випередження**, отриманого шляхом перетворення заданого часу випередження за допомогою **_<Translate android="true" ids="default_speed_setting_title" />_** профілю. Для підказок з близької відстані ця відстань випередження може бути скоригована на основі фактичної швидкості: збільшена, щоб забезпечити запуск оголошення достатньо рано на високих швидкостях, або зменшена для більшої точності на низьких швидкостях.
* **_<Translate android="true" ids="default_speed_setting_title" />_** профілю налаштовується користувачем, і його зміна, отже, впливатиме на відстані запуску голосових підказок.
*Примітка*: _<Translate android="true" ids="default_speed_setting_title" />_ також впливає на розрахунковий час маршруту.
* Час голосових підказок також можна налаштувати за допомогою параметра **_<Translate android="true" ids="arrival_distance" />_**. Перегляньте стовпець "Налаштування прибуття" нижче, щоб побачити, на які голосові підказки це вплине. Відстань запуску буде помножена на наступний коефіцієнт:

**<Translate android="true" ids="arrival_distance" />** | Множник відстані
--- | --- 
**<Translate android="true" ids="arrival_distance_factor_early" />** | 1.5
**<Translate android="true" ids="arrival_distance_factor_normally" />** | 1
**<Translate android="true" ids="arrival_distance_factor_late" />** | 0.5
**<Translate android="true" ids="arrival_distance_factor_at_last" />** | 0.25
* Крім того, існує загальна **_Затримка голосових підказок_**, що налаштовується користувачем (налаштовується в _Плагіні розробки OsmAnd_, _Текстові голосові підказки_, кнопка 11.2). Це особливо необхідно для типу виводу _Аудіо телефонного дзвінка_, де ми імітуємо дзвінок на автомобільну стереосистему, що викликає деяку затримку, щоб уникнути обрізання початку підказок. (Усі відстані, оголошені в підказках, будуть враховувати будь-яку _Затримку голосових підказок_.)
* Ми негайно вимикаємо підказки, як тільки вони стосуються застарілих подій, або якщо ваш напрямок руху не відповідає поточному маршруту.

## Швидкості за замовчуванням для базового профілю {#base-profile-default-speeds}
Хоча їх можна налаштувати користувачем, за замовчуванням вони такі:
* Автомобіль: 12.5 м/с (45 км/год)
* Велосипед: 2.78 м/с (10 км/год)
* Пішки: 1.11 м/с (4 км/год)
* Човен: 1.39 м/с (5 км/год)
* Лижі: 1.39 м/с (5 км/год)
* Літак: 40 м/с (144 км/год)

## Таблиця тригерів {#trigger-table}

Тригери знаходяться [тут у коді](https://github.com/osmandapp/OsmAnd/blob/master/OsmAnd/src/net/osmand/plus/routing/data/AnnounceTimeDistances.java#L65). Відповідні значення для налаштувань OsmAnd за замовчуванням:

Тип підказки | Час випередження [с]:<br/>Відповідна<br/>Відстань випередження @ Швидкість за замовчуванням [м] | Відстань випередження коригується за фактичною швидкістю? | Налаштовується за налаштуванням прибуття? | Коментар |
--- | --- | --- | --- | --- |
Поверніть зараз | **6.7 с / 3.2 с / 2 с:**<br/>Автомобіль: 83 м<br/>Велосипед: 12(8) м<br/>Пішки: 12(2) м | :heavy_check_mark: (Пропорційно *фактичній швидкості / Швидкості за замовчуванням*) | :heavy_check_mark: | Час випередження (евристично) = _max(8, sqrt(Швидкість за замовчуванням \* 3.6))_. Відповідна відстань випередження округлюється до 12 м, щоб врахувати неточність позиції. |
Поверніть через X м | **22 с:**<br/>Автомобіль: 275 м<br/>Велосипед: 61 м<br/>Пішки: 24 м | :heavy_check_mark: (Тільки збільшення) |  | Пропускається, якщо < 15 с до повороту |
Підготуйтеся до повороту через X м | **115 с:**<br/>Автомобіль: 1438 м<br/>Велосипед: 319 м<br/>Пішки: - |  |  | Пропускається, якщо < 150 м до "Поверніть через", пропускається для _Швидкості за замовчуванням_ < 8 км/год |
Довга підготовка до повороту через X м | **300 с:**<br/>Автомобіль: -<br/>Велосипед: -<br/>Пішки: - |  |  | Пропускається для _Швидкості за замовчуванням_ < 108 км/год |
Рухайтеся прямо | **>300 с:**<br/>Автомобіль: 3750 м<br/>Велосипед: 833 м<br/>Пішки: 333 м | | | Відтворюється після розрахунку маршруту, якщо немає іншої підказки, або після повороту, якщо наступний поворот знаходиться далі, ніж _Довга підготовка_ |
Прибуття до пункту призначення або проміжного пункту | **5 с:**<br/>Автомобіль: 63 м<br/>Велосипед: 14 м<br/>Пішки: 6(12) м | |:heavy_check_mark: | Мінімум 12 м |
Наближення до шляхової точки / обраного / POI | **60 с:**<br/>Автомобіль: 750 м<br/>Велосипед: 167 м<br/>Пішки: 67 м | :heavy_check_mark: (Тільки збільшення) | :heavy_check_mark: | Обмежено максимум 1 точкою одночасно |
Проходження шляхової точки / обраного / POI | **15 с:**<br/>Автомобіль: 188 м<br/>Велосипед: 42 м<br/>Пішки: 17 м | :heavy_check_mark: (Тільки збільшення) | :heavy_check_mark: | Обмежено максимум 3 точками одночасно |
Стандартний сигнал | **12 с:**<br/>Автомобіль: 150 м<br/>Велосипед: 33 м<br/>Пішки: 13 м | :heavy_check_mark: (Тільки збільшення) | :heavy_check_mark: |
Сигнал наближення | **7с:**<br/> Автомобіль: 88 м<br/>Велосипед: 20 м<br/>Пішки: 8 м | :heavy_check_mark: (Тільки збільшення) | :heavy_check_mark: | _Заспокоєння руху_ використовує сигнал _Проходження_ для підказки наближення та фільтрує дублікати в межах цього радіусу |
Оголошення про відхилення від маршруту | **20 с:**<br/>Автомобіль: 250м<br/>Велосипед: 56м<br/>Пішки: 22м | | :heavy_check_mark: | Можна вимкнути |
Втрачено сигнал GPS | **20 с** | | | Відтворюється після втрати сигналу GPS протягом >= 20 с, і це не було спричинено діями користувача. |